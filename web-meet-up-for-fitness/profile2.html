<!doctype html>
<html lang="en-US">
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html">
    <link rel="stylesheet" type="text/css" media="all" href="css/styles.css">
    <script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
</head>
<body>
  <div id="w">
    <div id="content" class="clearfix">
      <div id="userphoto"><img src="img/profile_pics.jpg" alt="default avatar" height="180" width="180"></div>
      <h1>My Profile</h1>
      <nav id="profiletabs">
        <ul class="clearfix">
          <li><a href="#bio" class="sel">Bio</a></li>
          <li><a href="#notification">Activity</a></li>
          <li><a href="#friends">Friends</a></li>
        </ul>
      </nav>

      <section id="bio">
        <p class = "activity">Personal Information:</p>
        <p id = "username" class = "activity"> </p>
        <p id = "email" class = "activity"> </p>
        <p id = "gender" class = "activity"> </p>
      </section>

      <section id="notification" class="hidden">
        <p class = "activity">My friends:</p>
        <p id = "notification_name" class = "activity"> </p>

      </section>



      <section id="friends" class="hidden">
        <p class = "activity">My friends:</p>
        <p id = "friend_name" class = "activity"> </p>

      </section>



    </div><!-- @end #content -->
  </div><!-- @end #w -->
<script type="text/javascript">
$(function(){
  $('#profiletabs ul li a').on('click', function(e){
    e.preventDefault();
    var newcontent = $(this).attr('href');

    $('#profiletabs ul li a').removeClass('sel');
    $(this).addClass('sel');

    $('#content section').each(function(){
      if(!$(this).hasClass('hidden')) { $(this).addClass('hidden'); }
    });

    $(newcontent).removeClass('hidden');
  });
});
</script>

<script>
    //need to change
    var userID = 65;
    var result;
     $.ajax({
               "dataType": "json",
                "async": false,
                "crossDomain": true,
                "url": "http://@ec2-52-7-74-13.compute-1.amazonaws.com/friends/" + userID,
                "method": "GET",
                "headers": {
                    "content-type": "application/json",
                },
                "processData": false,
                success: function(data){
                    result = data;
                },

                error: function(jqxhr, textStatus, errorThrown){
                    console.log("error");
                    console.log(textStatus);
                    console.log(errorThrown);

                }
        });

        var x = document.getElementById("friend_name");
        var p;
        var text;
        for (var i = 0; i < result['Friends List'].length; i++)
        {
          //p = document.createElement("P");
          p = document.createElement("P");
          text = document.createTextNode(result['Friends List'][i]['username'])
          p.append(text);
          x.append(p);
        }
</script>


<script>
  //notifications
    //need to change
    var userID = 65;
    var result;
     $.ajax({
               "dataType": "json",
                "async": false,
                "crossDomain": true,
                "url": "http://@ec2-52-7-74-13.compute-1.amazonaws.com/user/info/" + userID,
                "method": "GET",
                "headers": {
                    "content-type": "application/json",
                },
                "processData": false,
                success: function(data){
                    result = data;
                },

                error: function(jqxhr, textStatus, errorThrown){
                    console.log("error");
                    console.log(textStatus);
                    console.log(errorThrown);

                }
        });
        console.log(result);
        var x = document.getElementById("username");
        var p = document.createElement("P");
        text = document.createTextNode("username: " + result['Info']['username'])
        p.append(text);
        x.append(p);

        var p2 = document.createElement("P");
        text2 = document.createTextNode("email: " + result['Info']['email'])
        p2.append(text2);
        x.append(p2);

        var p3 = document.createElement("P");
        text3 = document.createTextNode("gender: " + result['Info']['gender'])
        p3.append(text3);
        x.append(p3);



</script>

</body>
</html>
